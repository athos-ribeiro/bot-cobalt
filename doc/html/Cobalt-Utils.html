<html><head><title>Cobalt::Utils</title>
			<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="http://search.cpan.org/s/style.css">
			<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
			<h1>Cobalt2 POD (lib/Cobalt/Utils.pm)</h1>
			<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="http://search.cpan.org/s/style.css">

</head>
			<body class="pod">
                                 <a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#USAGE'>USAGE</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Date_and_time'>Date and time</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#timestr_to_secs'>timestr_to_secs</a>
      <li class='indexItem indexItem3'><a href='#secs_to_timestr'>secs_to_timestr</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#IRC-related_tools'>IRC-related tools</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#color'>color</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Password_handling'>Password handling</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#mkpasswd'>mkpasswd</a>
      <li class='indexItem indexItem3'><a href='#passwdcmp'>passwdcmp</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Cobalt::Utils</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Simple utility functions for Cobalt2 and plugins</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USAGE"
>USAGE</a></h1>

<p>Import nothing:</p>

<pre>  use Cobalt::Utils;
  my $hash = Cobalt::Utils::mkpasswd(&#39;things&#39;);</pre>

<p>Import some things:</p>

<pre>  use Cobalt::Utils qw/ mkpasswd passwdcmp /;
  my $hash = mkpasswd(&#39;things&#39;);</pre>

<p>Import everything:</p>

<pre>  use Cobalt::Utils qw/ :ALL /;
  my $hash = mkpasswd(&#39;things&#39;, &#39;md5&#39;);
  my $secs = timestr_to_secs(&#39;3h30m&#39;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Date_and_time"
>Date and time</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="timestr_to_secs"
>timestr_to_secs</a></h3>

<p>Convert a string such as &#34;2h10m&#34; into seconds.</p>

<pre>  my $delay_s = timestr_to_secs(&#39;1h33m10s&#39;);</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="secs_to_timestr"
>secs_to_timestr</a></h3>

<p>Convert a TS delta into a string.</p>

<p>Useful for uptime reporting, for example:</p>

<pre>  my $delta = time() - $your_start_TS;
  my $uptime_str = secs_to_timestr($delta);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="IRC-related_tools"
>IRC-related tools</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="color"
>color</a></h3>

<p>Add mIRC formatting and color codes to a string.</p>

<p>Valid formatting codes:</p>

<pre>  NORMAL BOLD UNDERLINE REVERSE ITALIC</pre>

<p>Valid color codes:</p>

<pre>  WHITE BLACK BLUE GREEN RED BROWN PURPLE ORANGE YELLOW TEAL PINK
  LIGHT_CYAN LIGHT_BLUE LIGHT_GRAY LIGHT_GREEN</pre>

<p>Format/color type can be passed in upper or lower case.</p>

<p>If passed just a color or format name, returns the control code.</p>

<p>If passed nothing at all, returns the &#39;NORMAL&#39; code.</p>

<pre>  my $str = color(&#39;bold&#39;) . &#34;bold text&#34; . color() . &#34;normal text&#34;;</pre>

<p>If passed a color or format name and a string, returns the formatted string, terminated by NORMAL:</p>

<pre>  my $formatted = color(&#39;red&#39;, &#34;red text&#34;) . &#34;normal text&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Password_handling"
>Password handling</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="mkpasswd"
>mkpasswd</a></h3>

<p>Simple interface for creating hashed passwords:</p>

<pre>  ## create a bcrypted password (work cost 08)
  ## bcrypt is blowfish with a work cost factor.
  ## if hashes are stolen, they&#39;ll be slow to break
  ## see http://codahale.com/how-to-safely-store-a-password/
  my $hashed = mkpasswd($password);

  ## you can specify method options . . .
  ## here&#39;s bcrypt with a lower work cost factor.
  ## (must be a two-digit power of 2, possibly padded with 0)
  my $hashed = mkpasswd($password, &#39;bcrypt&#39;, &#39;06&#39;);

  ## Available methods:
  ##  bcrypt (preferred)
  ##  SHA-256 or -512 (glibc2.7+ only)
  ##  MD5 (fast, portable, weak)
  my $sha_passwd = mkpasswd($password, &#39;sha512&#39;);
  ## same as:
  my $sha_passwd = mkpasswd($password, &#39;SHA-512&#39;);</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="passwdcmp"
>passwdcmp</a></h3>

<pre>  return passwdcmp($password, $hashed);</pre>

<p>Returns the hash if the cleartext password is a match. Otherwise, returns 0.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jon Portnoy (avenj)</p>

<p><a href="http://www.cobaltirc.org" class="podlinkurl"
>http://www.cobaltirc.org</a></p>

<!-- end doc -->

</body></html>
